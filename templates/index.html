<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8"> 
	<title>
	Tor Geodiversity Information
	</title>

	<!-- TODO: make these hosted elsewhere. -->
	<link rel="stylesheet" href="/css/tor-diversity.css">


<!-- Advice from TomvdW on #tor
you could maybe do sum(observed_bw)/sum(consensus)*individual_consensus, which might provide a decent estimate
(as in: check the global ratio between observed bandwidth and consensus weight, then use that to get the individual ones
-->

</head>
<body>

	<span>
		<h1>Tor Network Geodiversity Information</h1>
	</span>

	<hr/>

	<div id="content">
		<noscript>
			<p>
			You are seeing this because you have JavaScript disabled.
			It is mainly used on this page to make it look prettier.
			The code is not obfuscated at all, go have a look!
			The page will work without JS, but will look ugly.
			</p>
		</noscript>

		<h2>About</h2>
		<p>
		The more diverse the tor network, the harder it is to track a connection.
		Currently there are a large number of nodes in North America and Europe.
		As of 2014, <a href="http://www.spiegel.de/international/world/nsa-documents-attacks-on-vpn-ssl-tls-ssh-tor-a-1010525.html">there is not enough coverage of the tor network to preform circuit analysis</a>.
		Even though it's good enough, the five eyes only get more eyes.
		Diversity needs to spread even more, primarily in Asia, South America, Africa, and Oceania.
		</p>

		<h2>TODO</h2>
		<p>
		This page is no where near complete.
		<ul>
			<li>It is ugly.</li>
			<li>It should link to VPSs in the respective countries.</li>
			<li>There should be a stronger score for how low a country is rated, leading to a total diversity score.</li>
			<li>Should be percent of total per category.</li>
		</ul>

		</p>

		<table border=2 class="sortable">
			<tr>
				<th>Country</th>
				<th>Count</th>
				<th>Consensus Weight</th>
				<th>Bandwidth (Bps)</th>
			</tr>
			{%- for country in stats recursive %}
			<tr>
				<td>{{country['real']}}</td>
				<td>{{country['count']}}</td>
				<td>{{country['weight']}}</td>
				<td>{{country['bandwidth']}}</td>
			</tr>
			{% endfor %}
		</table>
	</div>
	
	<hr/>

	<footer id="footer">
		<p>If you can make sites look pretty and the styling here annoys you, help out!</p>
		<p>Last updated at {{time}}.</p>
		<p>Data fetched from <a href="https://onionoo.torproject.org/">Onionoo</a>.</p>
	</footer>

	<script> sorttable.makeSortable(document.querySelectorAll("#posts > table:nth-child(1)")[0]); </script>
	<script src="/js/sorttable.js"></script>

</body>
</html>

